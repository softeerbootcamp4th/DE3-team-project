# 모델링을 위한 분석 작업 및 인프라 테스트

## 디렉토리 설명
### EDA
* /1day_naver_cafe_EDA : https://cafe.naver.com/allfm01 카페에서 2024.08.14 하루 동안 올라오는 게시글에 대한 간단한 분석

* /comment_difference_EDA : 댓글이 많은 게시글들과, 댓글이 적은 게시글들을 각각 분석하여 비교합니다. 이를 바탕으로 모델을 제안하고 검증합니다. 사용한 데이터는 프로젝트 초기에 람다를 통해 수집한 데이터로 model/resources/ 디렉토리에 존재합니다.

### Red shift test
* /red_shift_demo : 스파크에서 레드시프트 데이터베이스로 데이터를 적재하는 과정을 테스트합니다.

### Statistics
* /statistics : model/resources/ 디렉토리의 데이터에 대한 통계 자료입니다.

### 로컬 작업 내용 및 기타 데이터
* /data, /junk : 해당 내용은 프로젝트 수행에 필요한 자원이지만 보류되거나 버려진 정보들이 많습니다.



---

### 주제 : 현대 자동차에서 신규 모델이 출시되었을 때 SNS (유튜브, 인스타 그램, 커뮤니티 등)에서 해당 모델에 대한 소비자들의 반응을 모니 터링해서 특정 이슈에 대한 대화가 얼마나 이루어지고 있는지를 모니터링하고 알림을 제공하는 Data Product

### EDA 수행 결과 다양한 가능성들이 제시되었음
* 어떤 주제에 소비자들이 크게 반응하는지 : 안전과 관련한 실제 사례, 고장 분석글 등 소비자들이 크게 반응하는 많은 주제가 있었습니다.
* 소비자들의 반응은 어떠한지 : 단순히 좋은지 나쁜지 구분할 수도 있지만, 분노, 호기심, 기쁨, 슬픔 등 다양한 감정들이 반응으로서 존재합니다.

### Data Product를 제공 받을 대상
* 현대자동차의 신규 모델이 출시 되었을 때 소비자들의 반응을 모니터링하고 싶은 사람은 마케팅 담장자와 같이 PR 관련 직무 담당자로 예상하였습니다.
* 하지만 그분들이 어떤 정보를 원하는지, 어떤 게시글을 중요하게 생각하고 주목하는 지 알 수 없었습니다.

### 할 수 있는것에 집중 해보기
* 중요한 화재에 대한 글도 조회수, 댓글수, 추천수 수치가 천차 만별이었습니다.
* 조회수, 댓글수, 추천수 등은 시간이 지나면서 축적되는 수치이며 시간에 따른 변화는 이중 댓글정보를 통해 알 수 있습니다.


### 댓글수와 조회수, 추천수의 상관 관계

    * 대상 : https://cafe.naver.com/allfm01 카페 8월 14일 게시글
            조회수	    댓글 수
    조회수	1.000000	0.659597
    댓글 수	0.659597	1.000000

    * 대상 : /resuorce 디렉토리의, '코나 화재' 검색어에 대한 카페글
    	            likes	    views	    comment_count
    likes	        1.000000	0.363189	0.463965
    views       	0.363189	1.000000	0.499834
    comment_count	0.463965	0.499834	1.000000

댓글 수와 좋아요, 조회수는 상당한 상관 관계가 있음을 확인할 수 있었습니다.

### 댓글이 많은 게시글과 적은 게시글의 게시글 변화 추이 
---
* 댓글이 많은 게시글과, 댓글이 적은 게시글의 댓글수 증가 정도가 다릅니다.
![less_comment_change](https://github.com/user-attachments/assets/2c57b006-58ae-4fd4-a0ab-92f4b3c9d187)
![many_comment_change](https://github.com/user-attachments/assets/a9dd9792-4910-497f-97ae-771ef26a1b0d)

---
* 시간에 다른 댓글수별 게시글 수 히스토그램입니다.
* 댓글이 많은 게시글과 댓글이 적은 게시글의 히스토그램은 그 집단의 절대적인 양이 차이가 많으며 집단별로 분포 형태가 상이합니다.
![cold_hist](https://github.com/user-attachments/assets/1d585a43-790d-4754-a7fc-645ca0072643)
![hot_hist](https://github.com/user-attachments/assets/36c98af1-d22e-401f-bccb-4ab21dedc8d7)
---

* 게시글의 분포를 정규화 하여 PDF로 나타낸 결과, 댓글수가 많은 게시글들이 평균이 높고 분산이 더 컸습니다.
![pdf_cold](https://github.com/user-attachments/assets/c7091bdc-e615-4e9b-adfb-72d3fd76845b)
![pdf_hot](https://github.com/user-attachments/assets/640fb627-c672-4471-9647-658142e6cdc4)


### 검증
pdf_hot과 pdf_cold의 비율로 어떤 집단에 더 가까운지 평가합니다.
어떤 집단에 더 가까운지를 잘 나타내는지 평가하는 여러 방법(비율에 가중치를 주는 방식, PDF를 일정 구간 적분한 값을 사용하는 방법 등)을 시도하였으나 pdf_hot과 pdf_cold의 비율이 가장 잘 나타내었습니다.

검증 결과 아래와 같은 도표가 완성되었습니다.

                Predicted Hot	Predicted Cold
    Actual Hot	0.84	        0.16
    Actual Cold	0.08	        0.92
	                
